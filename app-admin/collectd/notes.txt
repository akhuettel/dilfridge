[22:22:02] <dilfridge> ssuominen: around=
[22:22:04] <dilfridge> ?
[22:43:31] <Anarchy> jlec, that will be fine no rush on it.
[22:55:58] <ssuominen> dilfridge: for a moment
[22:57:27] <dilfridge> I have a question on how to best bump an ebuild to the tree
[22:57:34] <dilfridge> about "required stability in ~arch"
[22:57:35] <robbat2|na> dilfridge, sup?
[22:58:04] <dilfridge> I would like to bump app-admin/collectd to the tre
[22:58:11] <dilfridge> http://git.overlays.gentoo.org/gitweb/?p=user/dilfridge.git;a=tree;f=app-admin/collectd;hb=HEAD
[22:58:30] <dilfridge> this has a huge number of plugins, and some require specific hardware / software
[22:58:56] <dilfridge> Plugin building is controlled by useflags, but I cant test all
[22:59:29] <dilfridge> dberkhol suggested that I have two ebuilds, a ~arch which has only the "tested building plugins" and a masked with all
[22:59:47] <chithead> you cannot build-test all?
[22:59:56] <dilfridge> is there a way to mask e.g. -r51 .. -r99 for all versions?
[23:00:02] <robbat2|na> "to the tree"? bump is not the word at all. migrate to the tree
[23:00:11] <robbat2|na> bump = version bump or revision bump
[23:00:15] <ssuominen> build-test all would be enough to stick it into ~arch
[23:00:18] <dilfridge> chithead: that might be possible 
[23:00:30] <robbat2|na> yes, just build-test them all and put that as ~arch
[23:00:45] <dilfridge> ok then I will target that and "activate" all useflags that I have build-tested. 
[23:01:05] <dilfridge> thx guys problem solved, will take a few more days though...
[23:01:23] <robbat2|na> and that ebuild looks like it's going to want USE_EXPAND instead of the manual cd_ stuff
[23:01:27] <dilfridge> yes true
[23:01:47] <dilfridge> how much buerocracy loops are needed for USE_EXPAND?
[23:02:05] <dilfridge> s/buerocracy/bureaucracy/
[23:02:36] <dilfridge> just ask on dev ml?
[23:03:05] <robbat2|na> yup
[23:03:11] <dilfridge> ok will do
[23:03:24] <robbat2|na> also, the errors you spew when linux_config_exists is false are very misleading
[23:03:33] <dilfridge> ok
[23:03:46] <robbat2|na> unless i'm misreading something
[23:03:47] <robbat2|na> one sec
[23:04:36] <darkside_> uhm, what? # hal is autodetected by configure, so there is no point in a hal useflag.
[23:05:08] <dilfridge> darkside_: yes not patched yet, but this affects only _one_ plugin
[23:05:45] <dilfridge> robbat2|na: this tries to figure out what kernel options might be improved for the plugins to work
[23:05:46] -*- ssuominen -C slocate
[23:06:06] <robbat2|na> collectd_plugin_kernel_linux <--- i'd refactor that, to have a specific error for linux_config_exists failure. also your linux_chkconfig_present will only correctly check the first flag 
if multiple are specified
[23:06:41] <dilfridge> ok will reread
[23:06:57] <robbat2|na> if linux_chkconfig_present ${opt}; then return 0; fi
[23:07:09] <ssuominen> there's a requirement to ask on dev ML before adding USE_EXPAND?
[23:07:22] <robbat2|na> so you return out of the function on the first successful option, no way to specify multiple options must be set together
[23:07:39] <robbat2|na> ssuominen, non written, but every past one was asked about
[23:08:00] <ssuominen> robbat2|na: except the one I added just week ago, then ;-)
[23:08:07] <ssuominen> one for XFCE_PLUGINS
[23:09:11] <robbat2|na> dilfridge, lastly, why a DEPEND on sys-kernel/vserver-sources? that's a perfectly valid kernel to be prebuilt and have no kernel sources on a machine
[23:09:42] <dilfridge> robbat2|na: yes that's true but why not go for "check one option" for simplicity's sake
[23:10:23] <robbat2|na> dilfridge, ok, just document that in the function header then
[23:10:34] <dilfridge> it is :)
[23:11:01] <dilfridge> robbat2|na: about the vserver, simply because I did not get to that plugin yet (and have no experience with that)
[23:11:12] <robbat2|na> use the eclass doc syntax?
[23:11:19] <dilfridge> ok
[23:11:36] <dilfridge> will do
[23:12:59] <dilfridge> ok give me a few days and I will clean things up and send mail :) thanks for your help


 544   * libnatapp (optional)
 545     Required for the “netapp” plugin.
 546     This library is part of the “Manage ONTAP SDK” published by NetApp.

 560   * liboping (optional)
 561     Used by the `ping' plugin to send and receive ICMP packets.
 562     <http://verplant.org/liboping/>

 586   * librouteros (optional)
 587     Used by the `routeros' plugin to connect to a device running `RouterOS'.
 588     <http://verplant.org/librouteros/>

 596   * librt, libsocket, libkstat, libdevinfo (optional)
 597     Various standard Solaris libraries which provide system functions.
 598     <http://developers.sun.com/solaris/>

 625   * libxmms (optional)
 626     <http://www.xmms.org/>

 628   * libyajl (optional)
 629     Parse JSON data. This is needed for the `curl_json' plugin.
 630     <http://github.com/lloyd/yajl>


Build-tested plugins:

apache apcups apple_sensors ascent battery bind conntrack contextswitch
cpu cpufreq curl curl_xml dbi df disk dns email entropy exec filecount fscache gmond
hddtemp interface ipmi iptables ipvs irq java libvirt load madwifi mbmon memcachec
memcached memory modbus multimeter mysql netlink network nfs nginx ntpd nut olsrd
onewire openvpn perl postgresql powerdns processes protocols python routeros
rrdcached sensors serial snmp swap table tail tape tcpconns teamspeak2 ted thermal
tokyotyrant uptime users vmem vserver wireless zfs_arc csv exec logfile network 
notify_desktop notify_email perl python rrdcached rrdtool syslog unixsock write_http
match_empty_counter match_hashed match_regex match_timediff match_value
target_notification target_replace target_scale target_set uuid


Configuration:
  Libraries:
    libcurl . . . . . . . yes
    libdbi  . . . . . . . yes
    libesmtp  . . . . . . yes
    libganglia  . . . . . yes
    libgcrypt . . . . . . yes
    libiokit  . . . . . . no
    libiptc . . . . . . . yes
    libjvm  . . . . . . . yes
    libkstat  . . . . . . no (Solaris only)
    libkvm  . . . . . . . no
    libmemcached  . . . . yes
    libmodbus . . . . . . yes
    libmysql  . . . . . . yes
    libnetapp . . . . . . no (netapp_api.h not found)
    libnetlink  . . . . . no (libnetlink.h not found)
    libnetsnmp  . . . . . yes
    libnotify . . . . . . yes
    liboconfig  . . . . . yes (shipped version)
    libopenipmi . . . . . no (/usr/bin/pkg-config --cflags OpenIPMIpthread failed)
    liboping  . . . . . . no ('oping.h' not found)
    libpcap . . . . . . . yes
    libperfstat . . . . . no (AIX only)
    libperl . . . . . . . no
    libpq . . . . . . . . yes
    libpthread  . . . . . yes
    librouteros . . . . . no ('routeros_api.h' not found)
    librrd  . . . . . . . yes
    libsensors  . . . . . yes
    libstatgrab . . . . . no (/usr/bin/pkg-config doesn't know libstatgrab)
    libtokyotyrant  . . . yes
    libupsclient  . . . . no (symbol upscli_connect not found)
    libvirt . . . . . . . yes
    libxml2 . . . . . . . yes
    libxmms . . . . . . . no
    libyajl . . . . . . . no (yajl/yajl_parse.h not found)
    libevent  . . . . . . 
    protobuf-c  . . . . . no
    oracle  . . . . . . . no (ORACLE_HOME is not set)
    python  . . . . . . . yes

  Features:
    daemon mode . . . . . yes
    debug . . . . . . . . no

  Bindings:
    perl  . . . . . . . . yes

  Modules:
    apache  . . . . . . . yes
    apcups  . . . . . . . yes
    apple_sensors . . . . no (disabled on command line)
    ascent  . . . . . . . yes
    battery . . . . . . . yes
    bind  . . . . . . . . yes
    conntrack . . . . . . yes
    contextswitch . . . . yes
    cpu . . . . . . . . . yes
    cpufreq . . . . . . . yes
    csv . . . . . . . . . yes
    curl  . . . . . . . . yes
    curl_json . . . . . . no (disabled on command line)
    curl_xml  . . . . . . yes
    dbi . . . . . . . . . yes
    df  . . . . . . . . . yes
    disk  . . . . . . . . yes
    dns . . . . . . . . . yes
    email . . . . . . . . yes
    entropy . . . . . . . yes
    exec  . . . . . . . . yes
    filecount . . . . . . yes
    fscache . . . . . . . yes
    gmond . . . . . . . . yes
    hddtemp . . . . . . . yes
    interface . . . . . . yes
    ipmi  . . . . . . . . no (dependency error)
    iptables  . . . . . . yes
    ipvs  . . . . . . . . no (dependency error) (ip_vs.h not found)
    irq . . . . . . . . . yes
    java  . . . . . . . . yes
    libvirt . . . . . . . yes
    load  . . . . . . . . yes
    logfile . . . . . . . yes
    madwifi . . . . . . . yes
    match_empty_counter . yes
    match_hashed  . . . . yes
    match_regex . . . . . yes
    match_timediff  . . . yes
    match_value . . . . . yes
    mbmon . . . . . . . . yes
    memcachec . . . . . . yes
    memcached . . . . . . yes
    memory  . . . . . . . yes
    modbus  . . . . . . . yes
    multimeter  . . . . . yes
    mysql . . . . . . . . yes
    netapp  . . . . . . . no (disabled on command line)
    netlink . . . . . . . no (dependency error)
    network . . . . . . . yes
    nfs . . . . . . . . . yes
    nginx . . . . . . . . yes
    notify_desktop  . . . yes
    notify_email  . . . . yes
    ntpd  . . . . . . . . yes
    nut . . . . . . . . . no (dependency error)
    olsrd . . . . . . . . yes
    onewire . . . . . . . yes
    openvpn . . . . . . . yes
    oracle  . . . . . . . no (disabled on command line)
    perl  . . . . . . . . no (needs libperl)
    pinba . . . . . . . . no (disabled on command line)
    ping  . . . . . . . . no (disabled on command line)
    postgresql  . . . . . yes
    powerdns  . . . . . . yes
    processes . . . . . . yes
    protocols . . . . . . yes
    python  . . . . . . . yes
    routeros  . . . . . . no (dependency error)
    rrdcached . . . . . . yes
    rrdtool . . . . . . . yes
    sensors . . . . . . . yes
    serial  . . . . . . . yes
    snmp  . . . . . . . . yes
    swap  . . . . . . . . yes
    syslog  . . . . . . . yes
    table . . . . . . . . yes
    tail  . . . . . . . . yes
    tape  . . . . . . . . no (dependency error)
    target_notification . yes
    target_replace  . . . yes
    target_scale  . . . . yes
    target_set  . . . . . yes
    tcpconns  . . . . . . yes
    teamspeak2  . . . . . yes
    ted . . . . . . . . . yes
    thermal . . . . . . . yes
    tokyotyrant . . . . . yes
    unixsock  . . . . . . yes
    uptime  . . . . . . . yes
    users . . . . . . . . yes
    uuid  . . . . . . . . yes
    vmem  . . . . . . . . yes
    vserver . . . . . . . yes
    wireless  . . . . . . yes
    write_http  . . . . . yes
    xmms  . . . . . . . . no (disabled on command line)
    zfs_arc . . . . . . . no (dependency error)

configure: error: "Some plugins are missing dependencies - see the summary above for details"

!!! Please attach the following file when seeking support:
!!! /var/tmp/portage/app-admin/collectd-4.10.1-r1/work/collectd-4.10.1/config.log
 * ERROR: app-admin/collectd-4.10.1-r1 failed:
 *   econf failed
 * 
 * Call stack:
 *     ebuild.sh, line   54:  Called src_configure
 *   environment, line 4369:  Called econf '--config-cache' '--without-included-ltdl' '--localstatedir=/var' '--disable-debug' '--disable-curl_json' '--disable-netapp' '--disable-pinba' '--disable-ping' 
'--disable-xmms' '--enable-apache' '--enable-apcups' '--disable-apple_sensors' '--enable-ascent' '--enable-battery' '--enable-bind' '--enable-conntrack' '--enable-contextswitch' '--enable-cpu' 
'--enable-cpufreq' '--enable-curl' '--enable-curl_xml' '--enable-dbi' '--enable-df' '--enable-disk' '--enable-dns' '--enable-email' '--enable-entropy' '--enable-exec' '--enable-filecount' '--enable-fscache' 
'--enable-gmond' '--enable-hddtemp' '--enable-interface' '--enable-ipmi' '--enable-iptables' '--enable-ipvs' '--enable-irq' '--enable-java' '--enable-libvirt' '--enable-load' '--enable-madwifi' 
'--enable-mbmon' '--enable-memcachec' '--enable-memcached' '--enable-memory' '--enable-modbus' '--enable-multimeter' '--enable-mysql' '--enable-netlink' '--enable-network' '--enable-nfs' '--enable-nginx' 
'--enable-ntpd' '--enable-nut' '--enable-olsrd' '--enable-onewire' '--enable-openvpn' '--disable-oracle' '--enable-perl' '--enable-postgresql' '--enable-powerdns' '--enable-processes' '--enable-protocols' 
'--enable-python' '--enable-routeros' '--enable-rrdcached' '--enable-sensors' '--enable-serial' '--enable-snmp' '--enable-swap' '--enable-table' '--enable-tail' '--enable-tape' '--enable-tcpconns' 
'--enable-teamspeak2' '--enable-ted' '--enable-thermal' '--enable-tokyotyrant' '--enable-uptime' '--enable-users' '--enable-vmem' '--enable-vserver' '--enable-wireless' '--enable-zfs_arc' '--enable-csv' 
'--enable-exec' '--enable-logfile' '--enable-network' '--enable-notify_desktop' '--enable-notify_email' '--enable-perl' '--enable-python' '--enable-rrdcached' '--enable-rrdtool' '--enable-syslog' 
'--enable-unixsock' '--enable-write_http' '--enable-match_empty_counter' '--enable-match_hashed' '--enable-match_regex' '--enable-match_timediff' '--enable-match_value' '--enable-target_notification' 
'--enable-target_replace' '--enable-target_scale' '--enable-target_set' '--enable-uuid' '--with-java=/opt/sun-jdk-1.6.0.20'
 *     ebuild.sh, line  544:  Called die

